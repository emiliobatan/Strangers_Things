{"version":3,"sources":["util/index.js","components/Posts.js","components/NewPost.js","components/Login.js","components/Home.js","components/App.js","components/PostSingle.js","components/MessageForm.js","components/PostView.js","components/Profile.js","components/Search.js","index.js"],"names":["callApi","a","url","method","token","body","options","toUpperCase","headers","JSON","stringify","fetch","response","json","data","error","console","Posts","posts","fetchPosts","handleDelete","postId","respObj","log","map","post","to","_id","isAuthor","onClick","NewPost","setPosts","useState","title","setTitle","description","setDescription","price","setPrice","location","setLocation","willDeliver","setWillDeliver","handleAdd","ev","preventDefault","postsResp","onSubmit","type","placeholder","value","onChange","event","target","Login","setToken","setUser","setMessages","setUserId","username","setUsername","password","setPassword","params","useParams","history","useHistory","user","loginResp","userResp","messages","push","disabled","length","verPass","Home","App","userId","postsObj","useEffect","className","exact","path","PostSingle","children","style","margin","author","MessageForm","content","setContent","handleSubmit","message","PostView","find","Profile","fromUser","Search","searchedItem","setSearchedItem","allPosts","filteredPosts","filter","text","includes","postMatches","toLowerCase","process","ReactDOM","render","document","getElementById"],"mappings":"kLAEaA,EAAO,uCAAG,yCAAAC,EAAA,6DAAQC,EAAR,EAAQA,IAAKC,EAAb,EAAaA,OAAQC,EAArB,EAAqBA,MAAOC,EAA5B,EAA4BA,KAA5B,SAEbC,EAAU,CACdH,OAAQA,EAASA,EAAOI,cAAgB,MACxCC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,IAEpBD,IAAOE,EAAQE,QAAR,+BAA6CJ,IATpC,SAaIO,MAAM,GAAD,OAfhC,iEAegC,OAAyBT,GAAOI,GAbzC,cAabM,EAba,gBAcAA,EAASC,OAdT,YAcbC,EAda,QAeXC,MAfW,uBAgBVD,EAAKC,MAhBK,iCAkBZD,GAlBY,kCAoBnBE,QAAQD,MAAR,MApBmB,0DAAH,sD,OCgCLE,EA1BC,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,MAAOd,EAAuB,EAAvBA,MAAOe,EAAgB,EAAhBA,WAEtBC,EAAY,uCAAG,WAAOC,GAAP,eAAApB,EAAA,sEACGD,EAAQ,CAC5BG,OAAQ,SACRD,IAAI,UAAD,OAAYmB,GACfjB,UAJiB,cACbkB,EADa,OAMnBN,QAAQO,IAAI,YAAaD,GANN,SAObH,IAPa,2CAAH,sDAWlB,OAAO,mCAEHD,EAAMM,KAAI,SAAAC,GAAI,OAAI,eAAC,EAAD,CAA2BA,KAAMA,EAAMrB,MAAOA,EAA9C,UAEhB,cAAC,IAAD,CAAMsB,GAAE,iBAAYD,EAAKE,KAAzB,0BAFgB,KAIdF,EAAKG,UAAY,wBAAQC,QAAS,kBAAMT,EAAaK,EAAKE,MAAzC,sBAJcF,EAAKE,W,OCuCjCG,EA3DC,SAAC,GAAuB,IAAtB1B,EAAqB,EAArBA,MAAO2B,EAAc,EAAdA,SACrB,EAA0BC,mBAAU,IAApC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAsCF,mBAAU,IAAhD,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAA0BJ,mBAAU,IAApC,mBAAOK,EAAP,KAAcC,EAAd,KACA,EAAgCN,mBAAU,IAA1C,mBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAAsCR,oBAAU,GAAhD,mBAAOS,EAAP,KAAoBC,EAApB,KAEMC,EAAS,uCAAG,WAAOC,GAAP,eAAA3C,EAAA,6DACd2C,EAAGC,iBACH7B,QAAQO,IAAI,CAACgB,WAAUJ,cAAaE,QAAOJ,QAAOQ,gBAFpC,SAGSzC,EAAQ,CAC3BE,IAAK,SACLC,OAAQ,OACRC,QACAC,KAAM,CACFoB,KAAM,CACFQ,QACAE,cACAE,QACAE,WACAE,kBAbE,8BAiBUzC,EAAQ,CAAEE,IAAK,SAAUE,UAjBnC,OAiBR0C,EAjBQ,OAkBdf,EAASe,EAAUhC,KAAKI,OAlBV,2CAAH,sDAqBf,OAAO,qCACH,iDACA,uBAAM6B,SAAYJ,EAAlB,UACI,qCACI,4CACA,uBAAOK,KAAK,OAAOC,YAAY,cAAcC,MAAOjB,EAAOkB,SAAU,SAACC,GAAD,OAAWlB,EAASkB,EAAMC,OAAOH,aAE1G,qCACI,kDACA,uBAAOF,KAAK,OAAOC,YAAY,oBAAoBC,MAAOf,EAAagB,SAAU,SAACC,GAAD,OAAWhB,EAAegB,EAAMC,OAAOH,aAE5H,qCACI,4CACA,uBAAOF,KAAK,OAAOC,YAAY,cAAcC,MAAOb,EAAOc,SAAU,SAACC,GAAD,OAAWd,EAASc,EAAMC,OAAOH,aAE1G,qCACI,+CACA,uBAAOF,KAAK,OAAOC,YAAY,iBAAiBC,MAAOX,EAAUY,SAAU,SAACC,GAAD,OAAWZ,EAAYY,EAAMC,OAAOH,aAEnH,qCACI,mDACA,yBAAQF,KAAK,OAAOE,MAAOT,EAAaU,SAAU,SAACC,GAAD,OAAWV,EAAeU,EAAMC,OAAOH,QAAzF,UACI,wBAAQA,MAAM,QAAd,gBACA,wBAAQA,MAAM,OAAd,uBAGR,wBAAQF,KAAK,SAAb,2B,OCIGM,EAxDD,SAAC,GAAkD,IAAjDC,EAAgD,EAAhDA,SAAUC,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,UAE5C,EAAgC1B,mBAAS,IAAzC,mBAAO2B,EAAP,KAAiBC,EAAjB,KACA,EAAgC5B,mBAAS,IAAzC,mBAAO6B,EAAP,KAAiBC,EAAjB,KACMC,EAASC,cACTC,EAAUC,cAGhB,OAAO,qCACH,kDACA,gDAAmBH,EAAO5D,OAA1B,eACA,uBAAM4C,SAAQ,uCAAE,WAAOK,GAAP,iBAAAnD,EAAA,6DACZmD,EAAMP,iBADM,SAGQ7C,EAAQ,CAC5BE,IAAI,UAAD,OAAY6D,EAAO5D,QACtBA,OAAQ,OACRE,KAAM,CACF8D,KAAM,CACFR,WACAE,eATI,UAGVO,EAHU,OAahBpD,QAAQO,IAAI,aAAc6C,IAEvBA,EAAUtD,KAfG,iCAgBWd,EAAQ,CAAEE,IAAK,YAAaE,MAAOgE,EAAUtD,KAAKV,QAhB7D,OAgBNiE,EAhBM,OAiBZd,EAASa,EAAUtD,KAAKV,OACxBoD,EAAQa,EAASvD,KAAK6C,UACtBD,EAAUW,EAASvD,KAAKa,KACxB8B,EAAYY,EAASvD,KAAKwD,UACvBF,EAAUtD,KAAKV,OACd6D,EAAQM,KAAK,KAtBL,4CAAF,sDAAd,UA2BI,uBAAOvB,KAAK,OAAOC,YAAa,WAAWC,MAAOS,EAAUR,SAAU,SAACC,GAAD,OAAWQ,EAAYR,EAAMC,OAAOH,UAC1G,uBACA,uBACA,uBAAOF,KAAK,WAAWC,YAAa,WAAWC,MAAOW,EAAUV,SAAU,SAACC,GAAD,OAAWU,EAAYV,EAAMC,OAAOH,UAC9G,uBAEsB,aAAlBa,EAAO5D,OAAwB,uBAAO6C,KAAK,WAAWC,YAAY,WAAWC,MAAOW,EAAUV,SAAU,SAACC,GAAD,OAAWU,EAAYV,EAAMC,OAAOH,UAC3I,IAGAW,EAASX,QAAUW,EAASX,MAAQ,wBAAQsB,UAAWX,IAAaF,GAAYE,EAASY,OAAS,GAAKZ,IAAaa,QAAhF,oBAA4G,wBAAQ1B,KAAK,SAAb,uBAItI,UAAlBe,EAAO5D,OAAqB,cAAC,IAAD,CAAMuB,GAAK,iBAAX,qCAA6D,cAAC,IAAD,CAAMA,GAAK,cAAX,uCC3CnFiD,EAZF,SAAC,GAAY,IAAXR,EAAU,EAAVA,KAEX,OAAO,qCACH,iEAEIA,EAAO,gDACOA,KACL,OCgENS,EAzDH,WACR,MAA0B5C,mBAAS,IAAnC,mBAAO5B,EAAP,KAAcmD,EAAd,KACA,EAAwBvB,mBAAS,IAAjC,mBAAOmC,EAAP,KAAaX,EAAb,KACA,EAA0BxB,mBAAS,IAAnC,mBAAOd,EAAP,KAAca,EAAd,KACA,EAAgCC,mBAAS,IAAzC,mBAAOsC,EAAP,KAAiBb,EAAjB,KACA,EAA4BzB,mBAAS,IAArC,mBAAO6C,EAAP,KAAenB,EAAf,KAEMvC,EAAU,uCAAG,8BAAAlB,EAAA,sEACOD,EAAQ,CAC5BE,IAAI,SACJE,UAHa,OACTkB,EADS,QAKTwD,EAAWxD,EAAQR,KAAKI,QACjBa,EAAS+C,GANP,2CAAH,qDAiBhB,OARAC,qBAAU,WACN,IACI5D,IACF,MAAOJ,GACLC,QAAQO,IAAIR,MAEjB,CAACX,IAEG,qCACH,qDACA,cAAC,IAAD,CAAMsB,GAAK,SAASsD,UAAW,OAA/B,oBAFG,KAIC5E,EAAQ,cAAC,IAAD,CAAMsB,GAAK,WAAX,uBAAyC,GAGjDtB,EAAQ,wBAAQ4E,UAAW,SAASnD,QAAW,kBAAM0B,EAAS,KAAtD,oBAA6E,cAAC,IAAD,CAAM7B,GAAI,cAAV,sBAEzF,cAAC,IAAD,CAAMA,GAAI,QAAV,oBAEJ,gCACI,cAAC,IAAD,CAAOuD,OAAK,EAACC,KAAK,IAAlB,SACI,cAAC,EAAD,CAAMf,KAAMA,EAAM/D,MAAQA,EAAOyE,OAAUA,EAAQP,SAAWA,MAElE,eAAC,IAAD,CAAOW,OAAK,EAACC,KAAK,SAAlB,UACI,cAAC,EAAD,CAAQhE,MAAOA,EAAOa,SAAUA,IAC/B3B,EAAQ,cAAC,EAAD,CAASA,MAASA,EAAO2B,SAAUA,IAAa,KACzD,cAAC,EAAD,CAAOb,MAAQA,EAAOd,MAASA,EAAOe,WAAcA,EAAYY,SAAUA,OAE9E,cAAC,IAAD,CAAOkD,OAAK,EAACC,KAAK,gBAAlB,SACI,cAAC,EAAD,CAAO3B,SAAYA,EAAUC,QAAWA,EAASE,UAAaA,EAAWD,YAAeA,MAE5F,cAAC,IAAD,CAAOwB,OAAK,EAACC,KAAK,iBAAlB,SACI,cAAC,EAAD,CAAUhE,MAASA,EAAOd,MAASA,EAAO+D,KAAMA,EAAhD,iBAEJ,cAAC,IAAD,CAAOc,OAAK,EAACC,KAAM,WAAnB,SACI,cAAC,EAAD,CAAS9E,MAASA,EAAO2B,SAAYA,EAAU0B,YAAeA,EAAavC,MAASA,EAAOoD,SAAYA,EAAUO,OAASA,aCxCvHM,EAzBI,SAAC,GAAsB,IAArB1D,EAAoB,EAApBA,KAAM2D,EAAc,EAAdA,SACzB,OAAO3D,EACH,sBAAK4D,MAAO,CAACC,OAAQ,SAArB,UACA,yCACU7D,EAAKQ,SAEf,gDACgBR,EAAKU,eAErB,2CACWV,EAAK8D,OAAO5B,YAEvB,0CACUlC,EAAKY,SAEf,iDACiBZ,EAAKgB,YAAc,MAAO,QAGzC2C,KAGF,cCSSI,EA7BK,SAAC,GAAmB,IAAlB/D,EAAiB,EAAjBA,KAAMrB,EAAW,EAAXA,MAC1B,EAA8B4B,mBAAS,IAAvC,mBAAOyD,EAAP,KAAgBC,EAAhB,KACMzB,EAAUC,cACVyB,EAAY,uCAAG,WAAO/C,GAAP,eAAA3C,EAAA,6DACnB2C,EAAGC,iBACG3C,EAFa,iBAEGuB,EAAKE,IAFR,sBAGA3B,EAAQ,CACzBG,OAAQ,OACRD,MACAE,QACAC,KAAM,CACJuF,QAAS,CACPH,cATa,cAanBxB,EAAQM,KAAK,MAbM,2CAAH,sDAelB,OAAO,mCAELnE,IAAUqB,EAAKG,SACf,uBAAMmB,SAAU4C,EAAhB,UACE,uBAAOzC,MAAOuC,EAASxC,YAAY,UAAUE,SAAU,SAACP,GAAD,OAAQ8C,EAAW9C,EAAGS,OAAOH,UACpF,wBAAQF,KAAK,SAAb,oCACQ,MCNC6C,EAjBE,SAAC,GAA0B,IAAzB3E,EAAwB,EAAxBA,MAAOd,EAAiB,EAAjBA,MAAO+D,EAAU,EAAVA,KACxB9C,EAAU2C,cAAV3C,OACPL,QAAQO,IAAI,WAAYF,GACxB,IAAMI,EAAOP,EAAM4E,MAAK,SAAArE,GAAI,OAAIA,EAAKE,MAAQN,KAI7C,OAHAL,QAAQO,IAAI,SAAUE,GAGf,mCACL,eAAC,EAAD,CAAYA,KAAMA,EAAlB,UAEIA,GAAQA,EAAK6C,UAAY7C,EAAK6C,SAAS9C,KAAI,SAAAoE,GAAO,OAAI,4CAAiCA,EAAQH,UAA/BG,EAAQjE,QAE1E,cAAC,EAAD,CAAaF,KAAMA,EAAMrB,MAAOA,EAAO+D,KAAMA,UCkBpC4B,EAlCC,SAAC,GAAiC,IAA/B3F,EAA8B,EAA9BA,MAAOkE,EAAuB,EAAvBA,SAAUO,EAAa,EAAbA,OAChC,OAAO,gCACH,8CAEIzE,EAAQ,mCACZ,gCACE,mDAEEkE,EAAS9C,KAAI,SAAAoE,GAEX,OADA5E,QAAQO,IAAI,YAAaqE,GAClB,mCACNf,IAAWe,EAAQI,SAASrE,IAC5B,gCAAMiE,EAAQnE,KAAKQ,MAAnB,KAA4B2D,EAAQI,SAASrC,SAA7C,aAAiEiC,EAAQH,WACxE,QAIN,+CAEEnB,EAAS9C,KAAI,SAAAoE,GAEX,OADA5E,QAAQO,IAAI,YAAaqE,GAClB,mCACNf,IAAWe,EAAQI,SAASrE,IAC5B,gCAAMiE,EAAQnE,KAAKQ,MAAnB,KAA4B2D,EAAQI,SAASrC,SAA7C,UAA8DiC,EAAQH,WACrE,aAMV,OCCSQ,MA9Bf,YAAoC,IAAnB/E,EAAkB,EAAlBA,MAAOa,EAAW,EAAXA,SACpB,EAAwCC,mBAAS,IAAjD,mBAAOkE,EAAP,KAAqBC,EAArB,KAYMhF,EAAU,uCAAG,8BAAAlB,EAAA,sEACQD,QAAQ,CAC3BE,IAAK,WAFM,OACTU,EADS,QAIjBwF,EAAWxF,EAASE,KAAKI,QACVa,EAASqE,GALP,2CAAH,qDAOpB,OAAO,mCACP,uBAAMrD,SAAU,SAACH,GACbA,EAAGC,iBAhBkB,WACjB,IAAMwD,EAAgBnF,EAAMoF,QAAO,SAAA7E,GAAI,OALvB,SAACA,EAAM8E,GAEvB,OADY9E,EAAK+E,SAASD,GAIiBE,CAAYhF,EAAKQ,MAAMyE,cAAeR,MACjFnE,EAASsE,GACJH,EAAazB,QACdtD,IAaRwE,IAFJ,UAII,uBAAO3C,KAAK,OAAOC,YAAY,YAAYC,MAAOgD,EAAc/C,SAAU,SAACC,GAAD,OAAW+C,EAAgB/C,EAAMC,OAAOH,UAClH,wBAAQF,KAAK,SAAb,0BCrBJhC,QAAQO,IAAI,WAFmBoF,iEAU/BC,IAASC,OACP,cAAC,IAAD,UACI,cAAC,EAAD,MAEJC,SAASC,eAAe,U","file":"static/js/main.d816d549.chunk.js","sourcesContent":["const { REACT_APP_BASE_URL = 'https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT' } = process.env;\n\nexport const callApi = async ({url, method, token, body}) => {\n  try {\n    const options = {\n      method: method ? method.toUpperCase() : 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body)\n    };\n    if(token) options.headers['Authorization'] = `Bearer ${token}`;\n\n    \n\n    const response = await fetch(`${REACT_APP_BASE_URL}${url}`, options);\n    const data = await response.json();\n    if(data.error) {\n      throw (data.error)\n    }\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}","import React from 'react';\nimport { callApi } from '../util';\nimport { Link } from 'react-router-dom';\n\nimport {\n    PostSingle,\n  } from '.';\n  \n  const Posts = ({posts, token, fetchPosts}) => {\n  \n    const handleDelete = async (postId) => {\n      const respObj = await callApi({\n        method: 'DELETE',\n        url: `/posts/${postId}`,\n        token\n      });\n      console.log('respObj: ', respObj);\n      await fetchPosts();\n    }\n   \n     \n    return <>\n      {\n        posts.map(post => <PostSingle key={post._id} post={post} token={token}>\n          {/* props.children */}\n          <Link to={`/posts/${post._id}`}>  View Post </Link> |\n          {\n            post.isAuthor && <button onClick={() => handleDelete(post._id)}>Delete</button>\n          }\n        </PostSingle>)\n      }\n    </>\n  }\n\nexport default Posts;","import React, { useState } from 'react';\nimport { callApi } from '../util';\n\nconst NewPost = ({token, setPosts}) => { \n    const [title, setTitle] = useState ('')\n    const [description, setDescription] = useState ('')\n    const [price, setPrice] = useState ('')\n    const [location, setLocation] = useState ('')\n    const [willDeliver, setWillDeliver] = useState (false)\n\n    const handleAdd = async (ev) => {\n        ev.preventDefault();\n        console.log({location, description, price, title, willDeliver})\n        const postResp = await callApi({\n            url: '/posts',\n            method: 'POST',\n            token, \n            body: {\n                post: {\n                    title,\n                    description,\n                    price,\n                    location,\n                    willDeliver\n                }\n            }\n        });\n        const postsResp = await callApi({ url: '/posts', token});\n        setPosts(postsResp.data.posts);\n    }\n\n    return <> \n        <h1> Create a post </h1>\n        <form onSubmit = {handleAdd}> \n            <fieldset> \n                <label> Title </label>\n                <input type=\"text\" placeholder=\"Enter Title\" value={title} onChange={(event) => setTitle(event.target.value)}></input>\n            </fieldset>\n            <fieldset> \n                <label> Description </label>\n                <input type=\"text\" placeholder=\"Enter Description\" value={description} onChange={(event) => setDescription(event.target.value)}></input>\n            </fieldset>\n            <fieldset> \n                <label> Price </label>\n                <input type=\"text\" placeholder=\"Enter Price\" value={price} onChange={(event) => setPrice(event.target.value)}></input>\n            </fieldset>\n            <fieldset> \n                <label> Location </label>\n                <input type=\"text\" placeholder=\"Enter Location\" value={location} onChange={(event) => setLocation(event.target.value)}></input>\n            </fieldset>\n            <fieldset> \n                <label> Will Deliver </label>\n                <select type=\"text\" value={willDeliver} onChange={(event) => setWillDeliver(event.target.value)}>\n                    <option value=\"false\">No</option>\n                    <option value=\"true\">Yes</option>\n                </select>\n            </fieldset>\n            <button type=\"submit\"> Post </button>\n            </form>\n    </> \n}\n\nexport default NewPost;","import React, { useState } from 'react'\nimport { useParams, useHistory } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { callApi } from '../util';\n\nconst Login = ({setToken, setUser, setMessages, setUserId }) => { \n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const params = useParams();\n    const history = useHistory();\n\n\n    return <>\n        <h1> Login/Register </h1>\n        <div> This is the {params.method} method. </div> \n        <form onSubmit={async (event) => { \n            event.preventDefault();\n        \n        const loginResp = await callApi({\n            url: `/users/${params.method}`, \n            method: 'POST',\n            body: { \n                user: { \n                    username, \n                    password\n                }\n            }\n        });\n        console.log('loginResp:', loginResp);\n\n        if(loginResp.data) { \n            const userResp = await callApi({ url: '/users/me', token: loginResp.data.token})\n            setToken(loginResp.data.token);\n            setUser(userResp.data.username);\n            setUserId(userResp.data._id);\n            setMessages(userResp.data.messages);\n            if(loginResp.data.token) { \n                history.push('/');\n            }\n        }\n\n        }}>\n            <input type='text' placeholder ='username' value={username} onChange={(event) => setUsername(event.target.value)}></input> \n            <br/>\n            <br/> \n            <input type='password' placeholder ='password' value={password} onChange={(event) => setPassword(event.target.value)}></input>\n            <br/>\n            {\n                params.method === 'register' ? <input type='password' placeholder='password' value={password} onChange={(event) => setPassword(event.target.value)}></input>\n                :''\n            }\n            {\n                !password.value === password.value ? <button disabled={!password || !username || password.length < 7 || password !== verPass} >Submit</button> : <button type='submit'>Submit</button> \n            }\n        \n        </form>\n        {params.method === 'login' ? <Link to = '/user/register'> Click here to register</Link> : <Link to = '/user/login'> Click here to login </Link>}\n        </>\n    }\n\nexport default Login; ","import React from 'react';\n\nconst Home = ({user}) => {\n    // console.log('user:', user);\n    return <>\n        <h1> Welcome to Stranger's Things! </h1>\n        {\n            user ? <div> \n            Logged in as {user}\n            </div> : ''\n        }\n    </>\n}\n\nexport default Home;","import React, { useEffect, useState } from 'react'; \nimport { Route, Link } from 'react-router-dom';\n\nimport {\n    Login,\n    Posts,\n    Home, \n    NewPost,\n    PostView,\n    Profile,\n    Search\n  } from './index';\n\nimport { callApi } from '../util';\n\n\nconst App = () => { \n    const [token, setToken] = useState('');\n    const [user, setUser] = useState('');\n    const [posts, setPosts] = useState([]);\n    const [messages, setMessages] = useState([])\n    const [userId, setUserId] = useState('');\n    \n    const fetchPosts = async () => {\n        const respObj = await callApi({\n          url: `/posts`,\n          token\n        });\n        const postsObj = respObj.data.posts;\n        if(postsObj) setPosts(postsObj);\n      }\n\n    useEffect(() => {\n        try { \n            fetchPosts();\n        } catch (error) {\n            console.log(error);\n        }\n    }, [token]);\n\n    return <> \n        <h1> Stranger's Things </h1>\n        <Link to = '/posts' className ='link'> Post </Link> |\n        {\n            token ? <Link to = '/profile'> Profile </Link> : ''\n        }\n        {\n            token ? <button className ='logout' onClick = {() => setToken('')}>Logout</button> : <Link to ='/user/login'>Login | </Link> \n        }\n        <Link to ='/Home'> Home </Link>\n        \n    <div> \n        <Route exact path=\"/\"> \n            <Home user={user} token ={token} userId = {userId} messages ={messages}/>\n        </Route>\n        <Route exact path=\"/posts\">\n            <Search posts={posts} setPosts={setPosts}/>\n            {token ? <NewPost token = {token} setPosts={setPosts}/>: null} \n            <Posts posts ={posts} token = {token} fetchPosts = {fetchPosts} setPosts={setPosts}/> \n        </Route>\n        <Route exact path=\"/user/:method\">\n            <Login setToken = {setToken} setUser = {setUser} setUserId = {setUserId} setMessages = {setMessages}/>\n        </Route>\n        <Route exact path='/posts/:postId'>\n            <PostView posts = {posts} token = {token} user={user}> </PostView>\n        </Route>\n        <Route exact path ='/profile'> \n            <Profile token = {token} setPosts = {setPosts} setMessages = {setMessages} posts = {posts} messages = {messages} userId ={userId} />\n        </Route>\n    </div>\n  </> \n}\n\nexport default App;","import React from 'react';\n\nconst PostSingle = ({post, children}) => {\n  return post \n    ? <div style={{margin: '.2rem'}}>\n      <h5>\n        Title: {post.title}\n      </h5>\n      <div>\n        Description: {post.description}\n      </div>\n      <div>\n        Seller: {post.author.username}\n      </div>\n      <div>\n        Price: {post.price}\n      </div>\n      <div>\n        Will Deliver: {post.willDeliver ? 'yes': 'no'}\n      </div>\n      {\n        children\n      }\n    </div>\n    : 'Loading...'\n}\n\nexport default PostSingle;","import React, { useState } from 'react';\nimport { callApi } from '../util';\nimport { useHistory } from 'react-router';\n\nconst MessageForm = ({post, token}) => {\n  const [content, setContent] = useState('');\n  const history = useHistory();\n  const handleSubmit = async (ev) => {\n    ev.preventDefault();\n    const url = `/posts/${post._id}/messages`;\n    const data = await callApi({\n      method: 'POST',\n      url,\n      token,\n      body: {\n        message: {\n          content\n        }\n      }\n    });\n    history.push('./')\n  }\n  return <>\n    {\n    token && !post.isAuthor ? \n    <form onSubmit={handleSubmit}>\n      <input value={content} placeholder=\"content\" onChange={(ev) => setContent(ev.target.value)}></input>\n      <button type=\"submit\">Add Comment to Post</button>\n    </form> : ''\n    }\n  </>\n}\n\nexport default MessageForm;","import React from 'react';\nimport { useParams } from 'react-router';\nimport PostSingle from './PostSingle';\nimport MessageForm from './MessageForm'; \n\nconst PostView = ({posts, token, user}) => {\n  const {postId} = useParams();\n  console.log('postId: ', postId);\n  const post = posts.find(post => post._id === postId);\n  console.log('post: ', post);\n  \n  \n  return <>\n    <PostSingle post={post}>\n      {\n        post && post.messages && post.messages.map(message => <div key={message._id}>message: {message.content}</div>)\n      }\n      <MessageForm post={post} token={token} user={user}/>\n    </PostSingle>\n  </>\n}\n\nexport default PostView;","import React from \"react\";\nconst Profile = ({ token, messages, userId }) => {\n    return <div>\n        <h1>Profile Page</h1>\n        {\n            token ? <>\n        <div>\n          <h3>Messages Received</h3>\n          {\n            messages.map(message => {\n              console.log('message: ', message);\n              return <>\n              {userId !== message.fromUser._id ?\n               <div>{message.post.title}: {message.fromUser.username} replied: {message.content}</div>\n              : ''}\n              </>\n            })\n          }\n          <h3>Messages Sent</h3>\n          {\n            messages.map(message => {\n              console.log('message: ', message);\n              return <>\n              {userId === message.fromUser._id ?\n               <div>{message.post.title}: {message.fromUser.username} said: {message.content}</div>\n              : ''}\n              </>\n            })\n          }\n        </div>\n      </>\n    : ''\n    }\n    </div>\n}\nexport default Profile;","import React, { useState, useEffect} from 'react';\n\nfunction Search({posts, setPosts}) {\n    const [searchedItem, setSearchedItem] = useState('');\n    const postMatches = (post, text) => {\n        let check = post.includes(text);\n        return check;\n    }\n    const handleSubmit = () => {\n        const filteredPosts = posts.filter(post => postMatches(post.title.toLowerCase(), searchedItem));\n        setPosts(filteredPosts);\n        if (!searchedItem.length) {\n            fetchPosts();\n        }\n    }\n    const fetchPosts = async () => {\n        const response = await callApi({\n            url: '/posts',\n});\nconst allPosts = response.data.posts;\n        if(allPosts) setPosts(allPosts);\n    }\nreturn <>\n<form onSubmit={(ev) => {\n    ev.preventDefault()\n    handleSubmit()\n}}>\n    <input type=\"text\" placeholder=\"search...\" value={searchedItem} onChange={(event) => setSearchedItem(event.target.value)}></input>\n    <button type=\"submit\">Search</button>\n</form>\n</>\n}\nexport default Search;","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n\nconst { REACT_APP_BASE_URL } = process.env;\nconst APIURL = REACT_APP_BASE_URL;\nconsole.log('APIURL: ', APIURL)\n\n\n\n// import './bootstap.min.css';\nimport { App } from './components';\n\n\nReactDOM.render(\n  <Router> \n      <App />\n  </Router>,\n  document.getElementById('app'),\n);"],"sourceRoot":""}